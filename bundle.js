(()=>{"use strict";var n={56:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},72:n=>{var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var a={},i=[],c=0;c<n.length;c++){var s=n[c],l=r.base?s[0]+r.base:s[0],d=a[l]||0,u="".concat(l," ").concat(d);a[l]=d+1;var p=t(u),m={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==p)e[p].references++,e[p].updater(m);else{var f=o(m,r);r.byIndex=c,e.splice(c,0,{identifier:u,updater:f,references:1})}i.push(u)}return i}function o(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,o){var a=r(n=n||[],o=o||{});return function(n){n=n||[];for(var i=0;i<a.length;i++){var c=t(a[i]);e[c].references--}for(var s=r(n,o),l=0;l<a.length;l++){var d=t(a[l]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}a=s}}},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},314:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,r,o,a){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(i[s]=!0)}for(var l=0;l<n.length;l++){var d=[].concat(n[l]);r&&i[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),e.push(d))}},e}},365:(n,e,t)=>{t.d(e,{A:()=>p});var r=t(601),o=t.n(r),a=t(314),i=t.n(a),c=t(417),s=t.n(c),l=new URL(t(780),t.b),d=i()(o()),u=s()(l);d.push([n.id,`/* Global styles */\nbody {\n  font-family: 'Roboto', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n  line-height: 1.6;\n  margin: 0;\n  padding: 20px;\n  background-color: #f5f5f5;\n  color: #333;\n}\n\n.container {\n  max-width: 1000px;\n  margin: 0 auto;\n  padding: 0;\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n  overflow: hidden; /* Ensure the header background stays within border radius */\n}\n\n/* Header styling */\n.app-header {\n  background: linear-gradient(to bottom, #1a2a6c, #223870);\n  padding: 40px 20px;\n  position: relative;\n  text-align: center;\n  border-radius: 8px 8px 0 0;\n  margin-bottom: 30px;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n}\n\n.app-header::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-image: url(${u});\n  opacity: 0.3;\n  pointer-events: none;\n}\n\n.header-content {\n  position: relative;\n  z-index: 1;\n}\n\nh1 {\n  font-family: 'Special Elite', cursive;\n  font-size: 3rem;\n  letter-spacing: 1px;\n  color: #fff;\n  margin: 0 0 10px 0;\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);\n  position: relative;\n  display: inline-block;\n}\n\nh1::after {\n  content: '';\n  position: absolute;\n  bottom: -8px;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 80%;\n  height: 2px;\n  background-color: rgba(255, 255, 255, 0.5);\n}\n\n/* Subtitle styling */\n.subtitle {\n  font-family: 'Roboto', sans-serif;\n  font-size: 1.2rem;\n  color: rgba(255, 255, 255, 0.9);\n  margin: 15px 0 0 0;\n  font-weight: 400;\n  letter-spacing: 1px;\n}\n\nh2 {\n  color: #555;\n  border-bottom: 2px solid #eee;\n  padding-bottom: 10px;\n}\n\nh3 {\n  color: #555;\n  margin-bottom: 12px;\n}\n\n/* Input section */\n.input-section {\n  margin-bottom: 30px;\n  padding: 0 20px;\n}\n\ntextarea {\n  width: 100%;\n  min-height: 120px;\n  padding: 10px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  margin-bottom: 15px;\n  font-size: 16px;\n  resize: vertical;\n}\n\n.buttons {\n  display: flex;\n  gap: 10px;\n}\n\nbutton {\n  padding: 10px 20px;\n  background-color: #4a6fa5;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 16px;\n  transition: background-color 0.2s;\n}\n\nbutton:hover {\n  background-color: #3a5982;\n}\n\n#clearButton {\n  background-color: #888;\n}\n\n#clearButton:hover {\n  background-color: #666;\n}\n\n/* Teams container */\n.teams-container {\n  display: flex;\n  gap: 20px;\n  flex-wrap: wrap;\n  padding: 0 20px 20px;\n}\n\n.team {\n  flex: 1;\n  min-width: 300px;\n  padding: 20px;\n  border-radius: 6px;\n}\n\n.red-team {\n  background-color: #ffebee;\n  border: 2px solid #ef9a9a;\n}\n\n.red-team h2 {\n  color: #c62828;\n  border-bottom-color: #ef9a9a;\n}\n\n.blue-team {\n  background-color: #e3f2fd;\n  border: 2px solid #90caf9;\n}\n\n.blue-team h2 {\n  color: #1565c0;\n  border-bottom-color: #90caf9;\n}\n\n/* Roles */\n.role {\n  margin-bottom: 20px;\n}\n\n.role h3 {\n  margin-bottom: 10px;\n  font-weight: 600;\n}\n\n.spymaster h3 {\n  color: #d32f2f;\n}\n\n.blue-team .spymaster h3 {\n  color: #1976d2;\n}\n\n.member-list {\n  padding: 10px;\n  background-color: rgba(255, 255, 255, 0.7);\n  border-radius: 4px;\n  min-height: 20px;\n}\n\n.member-item {\n  padding: 8px;\n  margin-bottom: 5px;\n  border-radius: 3px;\n  background-color: white;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n}\n\n/* New name input styles */\n.name-input-container {\n  display: flex;\n  gap: 10px;\n  margin-bottom: 20px;\n}\n\n#nameInput {\n  flex: 1;\n  padding: 10px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 16px;\n}\n\n#addNameButton {\n  background-color: #4CAF50;\n}\n\n#addNameButton:hover {\n  background-color: #3e8e41;\n}\n\n/* Validation message */\n.validation-message {\n  color: #d32f2f;\n  font-size: 14px;\n  margin: 8px 0;\n  padding: 0;\n  min-height: 20px;\n  transition: all 0.3s;\n}\n\n/* Name selection area */\n.name-selection-container {\n  margin-bottom: 20px;\n}\n\n.names-list {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n  padding: 15px;\n  background-color: #f9f9f9;\n  border-radius: 4px;\n  border: 1px solid #eee;\n  min-height: 50px;\n}\n\n.name-item {\n  display: flex;\n  align-items: center;\n  padding: 8px 12px;\n  background-color: white;\n  border-radius: 20px;\n  border: 1px solid #ddd;\n  transition: all 0.2s;\n  cursor: pointer; /* Add pointer cursor to indicate clickable */\n}\n\n.name-item.selected {\n  background-color: #e3f2fd;\n  border-color: #90caf9;\n}\n\n.name-item.not-selected {\n  background-color: #f5f5f5;\n  border-color: #ddd;\n  opacity: 0.7;\n}\n\n.name-item input[type="checkbox"] {\n  margin-right: 8px;\n}\n\n.name-item span {\n  margin-right: 10px;\n}\n\n/* Selection indicator styles */\n.selection-indicator {\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  border: 2px solid #ccc;\n  margin-right: 8px;\n  display: inline-block;\n  position: relative;\n}\n\n.name-item.selected .selection-indicator {\n  border-color: #2196F3;\n  background-color: #fff;\n}\n\n.name-item.selected .selection-indicator::after {\n  content: '';\n  position: absolute;\n  width: 8px;\n  height: 8px;\n  background-color: #2196F3;\n  border-radius: 50%;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.player-name {\n  flex-grow: 1;\n  margin-right: 10px;\n}\n\n.name-item .remove-name {\n  cursor: pointer;\n  color: #999;\n  border: none;\n  background: none;\n  font-size: 16px;\n  line-height: 1;\n  padding: 0 5px;\n  margin-left: auto;\n}\n\n.name-item .remove-name:hover {\n  color: #d32f2f;\n}\n\n/* Notification banner */\n.notification-banner {\n  position: fixed;\n  top: 20px;\n  left: 50%;\n  transform: translateX(-50%);\n  width: auto;\n  min-width: 300px;\n  max-width: 80%;\n  padding: 15px 45px 15px 20px;\n  color: white;\n  border-radius: 4px;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);\n  z-index: 1000;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  overflow: hidden;\n  transition: opacity 0.3s, visibility 0.3s, transform 0.3s;\n}\n\n.notification-banner.success {\n  background-color: #4caf50; /* Lighter green instead of dark green */\n  color: #ffffff;\n}\n\n.notification-banner.error {\n  background-color: #f44336; /* Lighter red instead of dark red */\n  color: #ffffff;\n}\n\n.notification-banner.informative {\n  background-color: #607d8b; /* Lighter grey-blue instead of dark grey */\n  color: #ffffff;\n}\n\n.notification-banner.hidden {\n  opacity: 0;\n  visibility: hidden;\n  transform: translate(-50%, -20px);\n  transition: opacity 0.3s, visibility 0s 0.3s, transform 0.3s;\n}\n\n.dismiss-notification {\n  position: absolute;\n  top: 50%; /* Change from top: 8px to top: 50% */\n  transform: translateY(-50%); /* Add this to center vertically */\n  right: 10px;\n  background: transparent;\n  border: none;\n  color: white;\n  font-size: 20px;\n  cursor: pointer;\n  padding: 0;\n  width: 24px;\n  height: 24px;\n  line-height: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.dismiss-notification:hover {\n  background-color: rgba(255, 255, 255, 0.2);\n  border-radius: 50%;\n}\n\n.notification-progress {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  height: 3px;\n  background-color: rgba(255, 255, 255, 0.7);\n  width: 100%;\n  transform-origin: left;\n}\n\n/* Confirmation dialog */\n.confirmation-dialog {\n  position: fixed;\n  inset: 0;\n  z-index: 2000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.confirmation-dialog.hidden {\n  display: none;\n}\n\n.confirmation-overlay {\n  position: fixed;\n  inset: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: -1;\n}\n\n.confirmation-content {\n  background-color: white;\n  border-radius: 8px;\n  padding: 25px;\n  width: 90%;\n  max-width: 400px;\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);\n  animation: dialogAppear 0.3s ease-out;\n}\n\n@keyframes dialogAppear {\n  from {\n    opacity: 0;\n    transform: translateY(-20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.confirmation-content h3 {\n  color: #1a2a6c;\n  margin-top: 0;\n  font-family: 'Roboto', sans-serif;\n  border-bottom: 1px solid #eee;\n  padding-bottom: 10px;\n}\n\n.confirmation-content p {\n  font-size: 16px;\n  margin: 20px 0;\n  color: #333;\n}\n\n.confirmation-buttons {\n  display: flex;\n  justify-content: flex-end;\n  gap: 12px;\n  margin-top: 25px;\n}\n\n.cancel-button {\n  background-color: #888;\n  color: white;\n  padding: 10px 20px;\n  border: none;\n  border-radius: 4px;\n  font-size: 14px;\n  cursor: pointer;\n  transition: background-color 0.2s;\n}\n\n.cancel-button:hover {\n  background-color: #666;\n}\n\n.confirm-button {\n  background-color: #d32f2f;\n  color: white;\n  padding: 10px 20px;\n  border: none;\n  border-radius: 4px;\n  font-size: 14px;\n  cursor: pointer;\n  transition: background-color 0.2s;\n}\n\n.confirm-button:hover {\n  background-color: #b71c1c;\n}\n\n/* Responsive design */\n@media (max-width: 768px) {\n  .teams-container {\n    flex-direction: column;\n  }\n}`,""]);const p=d},417:n=>{n.exports=function(n,e){return e||(e={}),n?(n=String(n.__esModule?n.default:n),/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),e.hash&&(n+=e.hash),/["'() \t\n]|(%20)/.test(n)||e.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n):n}},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},601:n=>{n.exports=function(n){return n[1]}},659:n=>{var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},780:n=>{n.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1IiBoZWlnaHQ9IjUiPgo8cmVjdCB3aWR0aD0iNSIgaGVpZ2h0PSI1IiBmaWxsPSIjZmZmIiBmaWxsLW9wYWNpdHk9IjAuMSI+PC9yZWN0Pgo8L3N2Zz4="},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}}},e={};function t(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={id:r,exports:{}};return n[r](a,a.exports,t),a.exports}t.m=n,t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.b=document.baseURI||self.location.href,t.nc=void 0;var r=function(){function n(){this.storagePrefix="v1_",this.participantsKey="".concat(this.storagePrefix,"teamDistributor_participants"),this.extraPlayerTeamKey="".concat(this.storagePrefix,"teamDistributor_extraPlayerTeam")}return n.prototype.saveParticipants=function(n){try{return localStorage.setItem(this.participantsKey,JSON.stringify(n)),!0}catch(n){return console.error("Error saving participants:",n),!1}},n.prototype.getParticipants=function(){try{var n=localStorage.getItem(this.participantsKey);return n?JSON.parse(n):[]}catch(n){return console.error("Error retrieving participants:",n),[]}},n.prototype.clearParticipants=function(){try{return localStorage.removeItem(this.participantsKey),!0}catch(n){return console.error("Error clearing participants:",n),!1}},n.prototype.saveExtraPlayerTeam=function(n){try{return localStorage.setItem(this.extraPlayerTeamKey,JSON.stringify(n)),!0}catch(n){return console.error("Error saving extra player team information:",n),!1}},n.prototype.getExtraPlayerTeam=function(){try{var n=localStorage.getItem(this.extraPlayerTeamKey);return n?JSON.parse(n):null}catch(n){return console.error("Error retrieving extra player team information:",n),null}},n}(),o=function(n,e,t){if(t||2===arguments.length)for(var r,o=0,a=e.length;o<a;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return n.concat(r||Array.prototype.slice.call(e))},a=function(){function n(){}return n.prototype.shuffle=function(n){for(var e,t=o([],n,!0),r=t.length-1;r>0;r--){var a=Math.floor(Math.random()*(r+1));e=[t[a],t[r]],t[r]=e[0],t[a]=e[1]}return t},n.prototype.distributeTeams=function(n,e){if(void 0===e&&(e=null),!n.length)return{redTeam:[],blueTeam:[],extraPlayerTeam:null};var t,r=this.shuffle(n),o=r.length%2!=0,a=null;o&&(a=null===e?Math.random()<.5?"red":"blue":"red"===e?"blue":"red"),o?"red"===a?(t=Math.ceil(r.length/2),Math.floor(r.length/2)):(t=Math.floor(r.length/2),Math.ceil(r.length/2)):(t=r.length/2,r.length);var i=r.slice(0,t),c=r.slice(t);return{redTeam:this.assignRolesRandomly(i),blueTeam:this.assignRolesRandomly(c),extraPlayerTeam:a}},n.prototype.assignRolesRandomly=function(n){if(!n.length)return[];var e=o([],n,!0),t=Math.floor(Math.random()*e.length);return e.map((function(n,e){return{name:n,role:e===t?"spymaster":"operative"}}))},n}(),i=t(72),c=t.n(i),s=t(825),l=t.n(s),d=t(659),u=t.n(d),p=t(56),m=t.n(p),f=t(540),g=t.n(f),h=t(113),b=t.n(h),x=t(365),y={};y.styleTagTransform=b(),y.setAttributes=m(),y.insert=u().bind(null,"head"),y.domAPI=l(),y.insertStyleElement=g(),c()(x.A,y),x.A&&x.A.locals&&x.A.locals;var v=new r,w=new a,k=document.getElementById("nameInput"),E=document.getElementById("addNameButton"),T=document.getElementById("namesList"),L=document.getElementById("distributeButton"),I=document.getElementById("clearButton"),P=document.getElementById("redSpymaster"),M=document.getElementById("redOperatives"),S=document.getElementById("blueSpymaster"),C=document.getElementById("blueOperatives"),B=(document.getElementById("validationMessage"),document.getElementById("notificationBanner")),A=document.getElementById("notificationMessage"),N=document.getElementById("dismissNotification"),H=document.getElementById("confirmationDialog"),R=document.getElementById("confirmationTitle"),z=document.getElementById("confirmationMessage"),j=document.getElementById("confirmOk"),O=document.getElementById("confirmCancel"),F=[],D=null,W=null,Z=null,K=null,_=0,q=0,U=!1,Y=0;function J(){T.innerHTML="",F.forEach((function(n,e){var t=document.createElement("div");t.className="name-item ".concat(n.selected?"selected":"not-selected");var r=document.createElement("span");r.className="selection-indicator";var o=document.createElement("span");o.textContent=n.name,o.className="player-name";var a=document.createElement("button");a.className="remove-name",a.textContent="×",a.title="Remove",t.addEventListener("click",(function(n){n.target.classList.contains("remove-name")||function(n){n>=0&&n<F.length&&(F[n].selected=!F[n].selected,J())}(e)})),a.addEventListener("click",(function(n){!function(n){if(n>=0&&n<F.length){var e=F[n].name;F.splice(n,1),J(),X('Player "'.concat(e,'" has been removed from the list.'),"success")}}(e),n.stopPropagation()})),t.appendChild(r),t.appendChild(o),t.appendChild(a),T.appendChild(t)})),v.saveParticipants(F)||X("Failed to save your participants. Your data may not persist when you reload the page.","error")}function X(n,e){void 0===e&&(e="informative"),W&&(clearTimeout(W),W=null),Z&&(cancelAnimationFrame(Z),Z=null),A.innerHTML=n.replace(/\n/g,"<br>"),B.className="notification-banner",B.classList.add(e),q=function(n,e){var t=0;switch(e){case"error":t=5e3;break;case"success":t=2500;break;case"informative":t=4e3;break;default:t=3e3}return t+Math.min(3e3,15*n.length)}(n,e);var t=B.querySelector(".notification-progress");t||((t=document.createElement("div")).className="notification-progress",B.appendChild(t)),Y=0,U=!1,(K=t).style.transform="scaleX(1)",setTimeout((function(){B.classList.remove("hidden")}),10),_=Date.now(),W=window.setTimeout(Q,q),$(),B.addEventListener("mouseenter",G),B.addEventListener("mouseleave",V)}function G(){U||(U=!0,W&&(clearTimeout(W),W=null),Z&&(cancelAnimationFrame(Z),Z=null),Y=Date.now()-_)}function V(){if(U){U=!1;var n=q-Y;if(n<=0)return void Q();W=window.setTimeout(Q,n),performance.now(),$()}}function Q(){B.classList.add("hidden"),W&&(clearTimeout(W),W=null),Z&&(cancelAnimationFrame(Z),Z=null),B.removeEventListener("mouseenter",G),B.removeEventListener("mouseleave",V)}function $(){if(!U&&K){Z&&(cancelAnimationFrame(Z),Z=null);var n=function(e){if(!U&&K){var t=Date.now()-_,r=Math.max(0,1-t/q);K.style.transform="scaleX(".concat(r,")"),r>0?Z=requestAnimationFrame(n):r<=0&&(K.style.transform="scaleX(0)")}};Z=requestAnimationFrame(n)}}function nn(){var n=k.value.trim();if(!n)return X("Please enter a valid player name (cannot be empty or just spaces).","error"),void k.focus();if(n){if(function(n){var e=n.toLowerCase();return F.some((function(n){return n.name.toLowerCase()===e}))}(n))return X('Player "'.concat(n,'" already exists in the list.'),"error"),void k.focus();F.push({name:n,selected:!0}),k.value="",k.focus(),X('Player "'.concat(n,'" has been added to the list.'),"success"),J()}}function en(){var n=F.filter((function(n){return n.selected})).map((function(n){return n.name}));if(n.length<4)return tn(),void X("Please select at least 4 players to distribute teams.\nEach team needs 1 spymaster and at least 1 operative.","informative");var e=w.distributeTeams(n,D);D=e.extraPlayerTeam;var t=v.saveExtraPlayerTeam(D);if(rn(e.redTeam,P,M),rn(e.blueTeam,S,C),e.extraPlayerTeam){var r="red"===e.extraPlayerTeam?"Red":"Blue";X("Odd number of players: ".concat(r," team has an extra player."),"informative")}else X("Teams have been successfully distributed!","success");t||setTimeout((function(){X("Failed to save team distribution information. Your next distribution might not alternate correctly.","error")}),3500)}function tn(){P.innerHTML="",M.innerHTML="",S.innerHTML="",C.innerHTML=""}function rn(n,e,t){e.innerHTML="",t.innerHTML="",n.forEach((function(n){var r=document.createElement("div");r.className="member-item","spymaster"===n.role?(r.textContent="🕵️ ".concat(n.name),e.appendChild(r)):(r.textContent="🤝 ".concat(n.name),t.appendChild(r))}))}function on(){return n=this,e=void 0,r=function(){var n,e,t,r;return function(n,e){var t,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(t=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(n,a)}catch(n){c=[6,n],r=0}finally{t=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}}(this,(function(o){switch(o.label){case 0:return Q(),n=F.length>0,e=""!==P.innerHTML||""!==M.innerHTML||""!==S.innerHTML||""!==C.innerHTML,n||e?[4,new Promise((function(n){var e;R.textContent="Confirm Clear Action",z.textContent="Are you sure you want to clear all participating players and the chosen players (if a draw has occurred)? This action cannot be undone.",H.classList.remove("hidden");var t=function(){a(),n(!0)},r=function(){a(),n(!1)};j.addEventListener("click",t),O.addEventListener("click",r),null===(e=H.querySelector(".confirmation-overlay"))||void 0===e||e.addEventListener("click",r);var o=function(n){"Escape"===n.key?r():"Enter"===n.key&&t()};function a(){var n;H.classList.add("hidden"),j.removeEventListener("click",t),O.removeEventListener("click",r),null===(n=H.querySelector(".confirmation-overlay"))||void 0===n||n.removeEventListener("click",r),document.removeEventListener("keydown",o)}document.addEventListener("keydown",o)}))]:(X("Nothing to clear. Add players or distribute teams first.","informative"),[2]);case 1:return o.sent()?(tn(),F=[],J(),D=null,t=v.clearParticipants(),r=v.saveExtraPlayerTeam(null),X("All players have been cleared.","success"),t&&r||setTimeout((function(){X("Failed to clear your data from storage. Some information might persist when you reload the page.","error")}),3e3),[2]):[2]}}))},new((t=void 0)||(t=Promise))((function(o,a){function i(n){try{s(r.next(n))}catch(n){a(n)}}function c(n){try{s(r.throw(n))}catch(n){a(n)}}function s(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(i,c)}s((r=r.apply(n,e||[])).next())}));var n,e,t,r}document.addEventListener("DOMContentLoaded",(function(){F=v.getParticipants(),J(),D=v.getExtraPlayerTeam(),k.addEventListener("keypress",(function(n){"Enter"===n.key&&nn()})),E.addEventListener("click",nn),L.addEventListener("click",en),I.addEventListener("click",on),N.addEventListener("click",Q)}))})();